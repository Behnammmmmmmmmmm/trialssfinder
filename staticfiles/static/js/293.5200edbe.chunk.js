(self.webpackChunktrialsfinder=self.webpackChunktrialsfinder||[]).push([[293],{3293:(e,a,c)=>{c.r(a),c.d(a,{PrivacyDashboard:()=>i,default:()=>s});var t=c(5299),n=c(3981),l=c(2240);const i=()=>{const{t:e}=(0,n.B)(),[a,c]=(0,t.useState)({necessary:!0,functional:!0,analytics:!1,marketing:!1});return(0,l.FD)("div",{className:"container py-8",children:[(0,l.Y)("h1",{className:"text-3xl font-bold mb-8",children:e("privacy.title")}),(0,l.FD)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,l.FD)("div",{className:"card",children:[(0,l.Y)("div",{className:"card-header",children:(0,l.Y)("h2",{className:"text-xl font-semibold",children:e("privacy.yourConsents")})}),(0,l.FD)("div",{className:"card-body",children:[(0,l.FD)("div",{className:"space-y-4",children:[(0,l.FD)("label",{className:"form-check",children:[(0,l.Y)("input",{type:"checkbox",className:"form-check-input",checked:a.necessary,disabled:!0}),(0,l.Y)("span",{className:"form-check-label",children:e("cookies.necessary")})]}),(0,l.FD)("label",{className:"form-check",children:[(0,l.Y)("input",{type:"checkbox",className:"form-check-input",checked:a.functional,onChange:e=>c({...a,functional:e.target.checked})}),(0,l.Y)("span",{className:"form-check-label",children:e("cookies.functional")})]}),(0,l.FD)("label",{className:"form-check",children:[(0,l.Y)("input",{type:"checkbox",className:"form-check-input",checked:a.analytics,onChange:e=>c({...a,analytics:e.target.checked})}),(0,l.Y)("span",{className:"form-check-label",children:e("cookies.analytics")})]}),(0,l.FD)("label",{className:"form-check",children:[(0,l.Y)("input",{type:"checkbox",className:"form-check-input",checked:a.marketing,onChange:e=>c({...a,marketing:e.target.checked})}),(0,l.Y)("span",{className:"form-check-label",children:e("cookies.marketing")})]})]}),(0,l.Y)("button",{onClick:async()=>{try{(await fetch("/api/compliance/consent/",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({consents:a})})).ok&&alert("Consent preferences updated")}catch(e){void 0}},className:"btn mt-6","data-variant":"primary",children:"Update Preferences"})]})]}),(0,l.FD)("div",{className:"card",children:[(0,l.Y)("div",{className:"card-header",children:(0,l.Y)("h2",{className:"text-xl font-semibold",children:e("privacy.yourRights")})}),(0,l.Y)("div",{className:"card-body",children:(0,l.FD)("div",{className:"space-y-4",children:[(0,l.FD)("div",{children:[(0,l.Y)("h3",{className:"font-semibold mb-2",children:"Data Export"}),(0,l.Y)("p",{className:"text-sm text-muted mb-3",children:"Download all your personal data in a machine-readable format."}),(0,l.Y)("button",{onClick:async()=>{try{(await fetch("/api/compliance/export-data/",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).ok&&alert(e("privacy.exportRequested"))}catch(a){void 0}},className:"btn","data-variant":"outline",children:e("privacy.exportData")})]}),(0,l.Y)("hr",{}),(0,l.FD)("div",{children:[(0,l.Y)("h3",{className:"font-semibold mb-2",children:"Account Deletion"}),(0,l.Y)("p",{className:"text-sm text-muted mb-3",children:"Permanently delete your account and all associated data."}),(0,l.Y)("button",{onClick:async()=>{if(window.confirm(e("privacy.deleteConfirm")))try{(await fetch("/api/compliance/delete-account/",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).ok&&alert(e("privacy.deletionRequested"))}catch(a){void 0}},className:"btn","data-variant":"danger",children:e("privacy.deleteAccount")})]})]})})]})]})]})},s=i}}]);