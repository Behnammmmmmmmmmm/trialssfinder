(self.webpackChunktrialsfinder=self.webpackChunktrialsfinder||[]).push([[711],{711:(e,a,r)=>{r.r(a),r.d(a,{RegisterPage:()=>i,default:()=>o});var s=r(5299),l=r(7767),t=r(9098),n=r(2240);const i=()=>{const[e,a]=(0,s.useState)({email:"",password:"",confirmPassword:"",user_type:"user"}),[r,i]=(0,s.useState)({}),[o,d]=(0,s.useState)(!1),{register:c}=(0,t.As)(),m=(0,l.Zp)(),p=s=>{const{name:l,value:t}=s.target;a("user_type"===l?{...e,[l]:t}:{...e,[l]:t}),r[l]&&i({...r,[l]:""})};return(0,n.Y)("div",{className:"container min-h-screen flex items-center justify-center py-12",children:(0,n.Y)("div",{className:"card shadow-xl",style:{maxWidth:"500px",width:"100%"},children:(0,n.FD)("div",{className:"card-body",children:[(0,n.Y)("h1",{className:"text-3xl font-bold text-center mb-6",children:"Create Account"}),(0,n.Y)("p",{className:"text-center text-muted mb-6",children:"Join TrialsFinder today"}),r.general&&(0,n.Y)("div",{className:"alert mb-4","data-variant":"danger",children:r.general}),(0,n.FD)("form",{onSubmit:async a=>{if(a.preventDefault(),(()=>{const a={};return e.email.includes("@")||(a.email="Please enter a valid email"),e.password.length<8&&(a.password="Password must be at least 8 characters"),"company"===e.user_type&&e.password!==e.confirmPassword&&(a.confirmPassword="Passwords do not match"),i(a),0===Object.keys(a).length})()){d(!0);try{const a={email:e.email,password:e.password,user_type:e.user_type};"company"===e.user_type&&(a.confirm_password=e.confirmPassword),await c(a),m("/verify-email")}catch(r){i({general:"Registration failed. Please try again."})}finally{d(!1)}}},children:[(0,n.FD)("div",{className:"form-group",children:[(0,n.Y)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,n.Y)("input",{id:"email",type:"email",name:"email",value:e.email,onChange:p,placeholder:"your@email.com",className:"form-control "+(r.email?"border-danger":""),required:!0,disabled:o}),r.email&&(0,n.Y)("p",{className:"text-danger text-sm mt-1",children:r.email})]}),(0,n.FD)("div",{className:"form-group",children:[(0,n.Y)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,n.Y)("input",{id:"password",type:"password",name:"password",value:e.password,onChange:p,placeholder:"Create a strong password",className:"form-control "+(r.password?"border-danger":""),required:!0,disabled:o}),r.password&&(0,n.Y)("p",{className:"text-danger text-sm mt-1",children:r.password})]}),"company"===e.user_type&&(0,n.FD)("div",{className:"form-group",children:[(0,n.Y)("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),(0,n.Y)("input",{id:"confirmPassword",type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:p,placeholder:"Confirm your password",className:"form-control "+(r.confirmPassword?"border-danger":""),required:!0,disabled:o}),r.confirmPassword&&(0,n.Y)("p",{className:"text-danger text-sm mt-1",children:r.confirmPassword})]}),(0,n.FD)("div",{className:"form-group",children:[(0,n.Y)("label",{htmlFor:"user_type",className:"form-label",children:"Account Type"}),(0,n.FD)("select",{id:"user_type",name:"user_type",value:e.user_type,onChange:p,className:"form-control",disabled:o,children:[(0,n.Y)("option",{value:"user",children:"Individual User"}),(0,n.Y)("option",{value:"company",children:"Company"})]}),(0,n.Y)("p",{className:"text-sm text-muted mt-1",children:'Choose "Company" if you want to list trials'})]}),(0,n.Y)("button",{type:"submit",className:"btn w-full mb-4","data-variant":"primary","data-size":"lg",disabled:o,children:o?(0,n.FD)("span",{className:"flex items-center justify-center",children:[(0,n.Y)("span",{className:"spinner mr-2"}),"Creating Account..."]}):"Create Account"})]}),(0,n.Y)("div",{className:"text-center",children:(0,n.FD)("p",{className:"text-muted",children:["Already have an account?"," ",(0,n.Y)("a",{href:"/login",className:"text-primary hover:underline",children:"Sign In"})]})})]})})})},o=i}}]);