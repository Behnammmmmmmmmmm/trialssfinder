{"version":3,"file":"js/293.5200edbe.chunk.js","mappings":"qLAGO,MAAMA,EAA6BA,KACxC,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,MACPC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,CACvCC,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,WAAW,IA8Db,OACEC,EAAAA,EAAAA,IAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,GAAA,MAAIF,UAAU,0BAAyBC,SAAEX,EAAE,oBAE3CS,EAAAA,EAAAA,IAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDF,EAAAA,EAAAA,IAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,GAAA,OAAKF,UAAU,cAAaC,UAC1BC,EAAAA,EAAAA,GAAA,MAAIF,UAAU,wBAAuBC,SAAEX,EAAE,6BAE3CS,EAAAA,EAAAA,IAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,IAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,IAAA,SAAOC,UAAU,aAAYC,SAAA,EAC3BC,EAAAA,EAAAA,GAAA,SACEC,KAAK,WACLH,UAAU,mBACVI,QAASZ,EAASG,UAClBU,UAAQ,KAEVH,EAAAA,EAAAA,GAAA,QAAMF,UAAU,mBAAkBC,SAAEX,EAAE,2BAGxCS,EAAAA,EAAAA,IAAA,SAAOC,UAAU,aAAYC,SAAA,EAC3BC,EAAAA,EAAAA,GAAA,SACEC,KAAK,WACLH,UAAU,mBACVI,QAASZ,EAASI,WAClBU,SAAWC,GAAMd,EAAY,IAAID,EAAUI,WAAYW,EAAEC,OAAOJ,aAElEF,EAAAA,EAAAA,GAAA,QAAMF,UAAU,mBAAkBC,SAAEX,EAAE,4BAGxCS,EAAAA,EAAAA,IAAA,SAAOC,UAAU,aAAYC,SAAA,EAC3BC,EAAAA,EAAAA,GAAA,SACEC,KAAK,WACLH,UAAU,mBACVI,QAASZ,EAASK,UAClBS,SAAWC,GAAMd,EAAY,IAAID,EAAUK,UAAWU,EAAEC,OAAOJ,aAEjEF,EAAAA,EAAAA,GAAA,QAAMF,UAAU,mBAAkBC,SAAEX,EAAE,2BAGxCS,EAAAA,EAAAA,IAAA,SAAOC,UAAU,aAAYC,SAAA,EAC3BC,EAAAA,EAAAA,GAAA,SACEC,KAAK,WACLH,UAAU,mBACVI,QAASZ,EAASM,UAClBQ,SAAWC,GAAMd,EAAY,IAAID,EAAUM,UAAWS,EAAEC,OAAOJ,aAEjEF,EAAAA,EAAAA,GAAA,QAAMF,UAAU,mBAAkBC,SAAEX,EAAE,8BAI1CY,EAAAA,EAAAA,GAAA,UACEO,QAxEWC,UACrB,WACyBC,MAAM,2BAA4B,CACvDC,OAAQ,OACRC,QAAS,CACP,cAAiB,UAAUC,aAAaC,QAAQ,kBAChD,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAE1B,gBAGZ2B,IACXC,MAAM,8BAEV,CAAE,MAAOC,QACPC,CACF,GAyDUtB,UAAU,WACV,eAAa,UAASC,SACvB,8BAMLF,EAAAA,EAAAA,IAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,GAAA,OAAKF,UAAU,cAAaC,UAC1BC,EAAAA,EAAAA,GAAA,MAAIF,UAAU,wBAAuBC,SAAEX,EAAE,2BAE3CY,EAAAA,EAAAA,GAAA,OAAKF,UAAU,YAAWC,UACxBF,EAAAA,EAAAA,IAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,IAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,GAAA,MAAIF,UAAU,qBAAoBC,SAAC,iBACnCC,EAAAA,EAAAA,GAAA,KAAGF,UAAU,0BAAyBC,SAAC,mEAGvCC,EAAAA,EAAAA,GAAA,UACEO,QArISC,UACvB,WACyBC,MAAM,+BAAgC,CAC3DC,OAAQ,OACRC,QAAS,CACP,cAAiB,UAAUC,aAAaC,QAAQ,kBAChD,eAAgB,uBAIPI,IACXC,MAAM9B,EAAE,2BAEZ,CAAE,MAAO+B,QACPC,CACF,GAuHctB,UAAU,MACV,eAAa,UAASC,SAErBX,EAAE,4BAIPY,EAAAA,EAAAA,GAAA,UAEAH,EAAAA,EAAAA,IAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,GAAA,MAAIF,UAAU,qBAAoBC,SAAC,sBACnCC,EAAAA,EAAAA,GAAA,KAAGF,UAAU,0BAAyBC,SAAC,8DAGvCC,EAAAA,EAAAA,GAAA,UACEO,QAnIYC,UAC1B,GAAKa,OAAOC,QAAQlC,EAAE,0BAItB,WACyBqB,MAAM,kCAAmC,CAC9DC,OAAQ,OACRC,QAAS,CACP,cAAiB,UAAUC,aAAaC,QAAQ,kBAChD,eAAgB,uBAIPI,IACXC,MAAM9B,EAAE,6BAEZ,CAAE,MAAO+B,QACPC,CACF,GAiHctB,UAAU,MACV,eAAa,SAAQC,SAEpBX,EAAE,6CAWrB,G","sources":["webpack://trialsfinder/./src/pages/PrivacyDashboard.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useTranslation } from '../i18n';\r\n\r\nexport const PrivacyDashboard: React.FC = () => {\r\n  const { t } = useTranslation();\r\n  const [consents, setConsents] = useState({\r\n    necessary: true,\r\n    functional: true,\r\n    analytics: false,\r\n    marketing: false,\r\n  });\r\n\r\n  const handleExportData = async () => {\r\n    try {\r\n      const response = await fetch('/api/compliance/export-data/', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n      \r\n      if (response.ok) {\r\n        alert(t('privacy.exportRequested'));\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to request data export:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteAccount = async () => {\r\n    if (!window.confirm(t('privacy.deleteConfirm'))) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('/api/compliance/delete-account/', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n      \r\n      if (response.ok) {\r\n        alert(t('privacy.deletionRequested'));\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to request account deletion:', error);\r\n    }\r\n  };\r\n\r\n  const updateConsents = async () => {\r\n    try {\r\n      const response = await fetch('/api/compliance/consent/', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ consents }),\r\n      });\r\n      \r\n      if (response.ok) {\r\n        alert('Consent preferences updated');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to update consents:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container py-8\">\r\n      <h1 className=\"text-3xl font-bold mb-8\">{t('privacy.title')}</h1>\r\n      \r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            <h2 className=\"text-xl font-semibold\">{t('privacy.yourConsents')}</h2>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <div className=\"space-y-4\">\r\n              <label className=\"form-check\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"form-check-input\"\r\n                  checked={consents.necessary}\r\n                  disabled\r\n                />\r\n                <span className=\"form-check-label\">{t('cookies.necessary')}</span>\r\n              </label>\r\n              \r\n              <label className=\"form-check\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"form-check-input\"\r\n                  checked={consents.functional}\r\n                  onChange={(e) => setConsents({...consents, functional: e.target.checked})}\r\n                />\r\n                <span className=\"form-check-label\">{t('cookies.functional')}</span>\r\n              </label>\r\n              \r\n              <label className=\"form-check\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"form-check-input\"\r\n                  checked={consents.analytics}\r\n                  onChange={(e) => setConsents({...consents, analytics: e.target.checked})}\r\n                />\r\n                <span className=\"form-check-label\">{t('cookies.analytics')}</span>\r\n              </label>\r\n              \r\n              <label className=\"form-check\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"form-check-input\"\r\n                  checked={consents.marketing}\r\n                  onChange={(e) => setConsents({...consents, marketing: e.target.checked})}\r\n                />\r\n                <span className=\"form-check-label\">{t('cookies.marketing')}</span>\r\n              </label>\r\n            </div>\r\n            \r\n            <button \r\n              onClick={updateConsents}\r\n              className=\"btn mt-6\" \r\n              data-variant=\"primary\"\r\n            >\r\n              Update Preferences\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            <h2 className=\"text-xl font-semibold\">{t('privacy.yourRights')}</h2>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <h3 className=\"font-semibold mb-2\">Data Export</h3>\r\n                <p className=\"text-sm text-muted mb-3\">\r\n                  Download all your personal data in a machine-readable format.\r\n                </p>\r\n                <button \r\n                  onClick={handleExportData}\r\n                  className=\"btn\" \r\n                  data-variant=\"outline\"\r\n                >\r\n                  {t('privacy.exportData')}\r\n                </button>\r\n              </div>\r\n              \r\n              <hr />\r\n              \r\n              <div>\r\n                <h3 className=\"font-semibold mb-2\">Account Deletion</h3>\r\n                <p className=\"text-sm text-muted mb-3\">\r\n                  Permanently delete your account and all associated data.\r\n                </p>\r\n                <button \r\n                  onClick={handleDeleteAccount}\r\n                  className=\"btn\" \r\n                  data-variant=\"danger\"\r\n                >\r\n                  {t('privacy.deleteAccount')}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrivacyDashboard;"],"names":["PrivacyDashboard","t","useTranslation","consents","setConsents","useState","necessary","functional","analytics","marketing","_jsxs","className","children","_jsx","type","checked","disabled","onChange","e","target","onClick","async","fetch","method","headers","localStorage","getItem","body","JSON","stringify","ok","alert","error","console","window","confirm"],"sourceRoot":""}