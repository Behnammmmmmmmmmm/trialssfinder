"use strict";(self.webpackChunktrialssfinder=self.webpackChunktrialssfinder||[]).push([[217],{6217:(e,r,a)=>{a.r(r),a.d(r,{AdminDashboardPage:()=>d,default:()=>l});var t=a(5043),s=a(9084),i=a(579);const d=()=>{const[e,r]=(0,t.useState)([]);(0,t.useEffect)(()=>{a()},[]);const a=async()=>{try{const e=await s.K.adminList(),a=e.data.results||e.data;r(Array.isArray(a)?a:[])}catch(e){console.error("Failed to load trials:",e),r([])}};return(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:"Admin Dashboard"}),(0,i.jsx)("h2",{children:"All Trials"}),e.map(e=>(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:e.title}),(0,i.jsxs)("p",{children:["Status: ",e.status]}),(0,i.jsxs)("p",{children:["Featured: ",e.is_featured?"Yes":"No"]}),"under_review"===e.status&&(0,i.jsx)("button",{onClick:()=>(async e=>{try{await s.K.approveTrial(e),a()}catch(r){console.error("Failed to approve trial:",r)}})(e.id),children:"Approve"}),(0,i.jsx)("button",{onClick:()=>(async e=>{try{await s.K.toggleFeatured(e),a()}catch(r){console.error("Failed to toggle featured:",r)}})(e.id),children:e.is_featured?"Unfeature":"Feature"})]},e.id))]})},l=d}}]);
//# sourceMappingURL=217.381432b7.chunk.js.map