"use strict";(self.webpackChunktrialssfinder=self.webpackChunktrialssfinder||[]).push([[769],{8150:(e,t,a)=>{a.r(t),a.d(t,{AnalyticsPage:()=>d,default:()=>c});var s=a(5043),l=a(5475),n=a(7521),r=a(9084),i=a(579);const d=()=>{const[e]=(0,l.ok)(),[t,a]=(0,s.useState)([]),[d,c]=(0,s.useState)(null),[h,o]=(0,s.useState)({start_date:"",end_date:""}),[u,v]=(0,s.useState)(null),p=(0,s.useCallback)(async()=>{if(d)try{const e=await n.r.getTrialMetrics(d,h);v(e.data)}catch(e){console.error("Failed to load metrics:",e)}},[d,h]);(0,s.useEffect)(()=>{x();const t=e.get("trial");t&&c(parseInt(t))},[e]),(0,s.useEffect)(()=>{d&&p()},[d,h,p]);const x=async()=>{try{const e=await r.K.companyTrials(),t=e.data.results||e.data;a(Array.isArray(t)?t:[])}catch(e){console.error("Failed to load trials:",e),a([])}};return(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:"Analytics Dashboard"}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("select",{value:d||"",onChange:e=>c(e.target.value?parseInt(e.target.value):null),children:[(0,i.jsx)("option",{value:"",children:"Select a trial"}),t.map(e=>(0,i.jsx)("option",{value:e.id,children:e.title},e.id))]}),(0,i.jsx)("input",{type:"date",value:h.start_date,onChange:e=>o({...h,start_date:e.target.value})}),(0,i.jsx)("input",{type:"date",value:h.end_date,onChange:e=>o({...h,end_date:e.target.value})})]}),u&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Summary Stats"}),(0,i.jsxs)("p",{children:["Views: ",u.views]}),(0,i.jsxs)("p",{children:["Clicks: ",u.clicks]}),(0,i.jsxs)("p",{children:["Conversions: ",u.conversions.toFixed(2),"%"]}),(0,i.jsx)("h2",{children:"Weekly Chart"}),u.weekly_data.map(e=>(0,i.jsx)("div",{children:(0,i.jsxs)("span",{children:[e.date,": Views: ",e.views,", Clicks: ",e.clicks]})},e.date)),(0,i.jsx)("h2",{children:"Monthly Chart"}),u.monthly_data.map(e=>(0,i.jsx)("div",{children:(0,i.jsxs)("span",{children:[e.date,": Events: ",e.events]})},e.date))]})]})},c=d}}]);
//# sourceMappingURL=769.80e9f468.chunk.js.map