{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../hooks/useStore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const RegisterPage=()=>{const[formData,setFormData]=useState({username:'',email:'',password:'',confirmPassword:'',user_type:'user'});const[errors,setErrors]=useState({});const[loading,setLoading]=useState(false);const{register}=useAuth();const navigate=useNavigate();const validateForm=()=>{const newErrors={};if(formData.username.length<3){newErrors.username='Username must be at least 3 characters';}if(!formData.email.includes('@')){newErrors.email='Please enter a valid email';}if(formData.password.length<8){newErrors.password='Password must be at least 8 characters';}if(formData.password!==formData.confirmPassword){newErrors.confirmPassword='Passwords do not match';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setLoading(true);try{await register({username:formData.username,email:formData.email,password:formData.password,user_type:formData.user_type});navigate('/verify-email');}catch(error){setErrors({general:'Registration failed. Please try again.'});}finally{setLoading(false);}};const handleChange=e=>{const{name,value}=e.target;if(name==='user_type'){setFormData({...formData,[name]:value});}else{setFormData({...formData,[name]:value});}// Clear error for this field\nif(errors[name]){setErrors({...errors,[name]:''});}};return/*#__PURE__*/_jsx(\"div\",{className:\"container min-h-screen flex items-center justify-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-xl\",style:{maxWidth:'500px',width:'100%'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center mb-6\",children:\"Create Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-muted mb-6\",children:\"Join TrialsFinder today\"}),errors.general&&/*#__PURE__*/_jsx(\"div\",{className:\"alert mb-4\",\"data-variant\":\"danger\",children:errors.general}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",type:\"text\",name:\"username\",value:formData.username,onChange:handleChange,placeholder:\"Choose a username\",className:`form-control ${errors.username?'border-danger':''}`,required:true,disabled:loading}),errors.username&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger text-sm mt-1\",children:errors.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,placeholder:\"your@email.com\",className:`form-control ${errors.email?'border-danger':''}`,required:true,disabled:loading}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger text-sm mt-1\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,placeholder:\"Create a strong password\",className:`form-control ${errors.password?'border-danger':''}`,required:true,disabled:loading}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger text-sm mt-1\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",className:\"form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"confirmPassword\",type:\"password\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,placeholder:\"Confirm your password\",className:`form-control ${errors.confirmPassword?'border-danger':''}`,required:true,disabled:loading}),errors.confirmPassword&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger text-sm mt-1\",children:errors.confirmPassword})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user_type\",className:\"form-label\",children:\"Account Type\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"user_type\",name:\"user_type\",value:formData.user_type,onChange:handleChange,className:\"form-control\",disabled:loading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"Individual User\"}),/*#__PURE__*/_jsx(\"option\",{value:\"company\",children:\"Company\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted mt-1\",children:\"Choose \\\"Company\\\" if you want to list trials\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn w-full mb-4\",\"data-variant\":\"primary\",\"data-size\":\"lg\",disabled:loading,children:loading?/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner mr-2\"}),\"Creating Account...\"]}):'Create Account'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"text-primary hover:underline\",children:\"Sign In\"})]})})]})})});};export default RegisterPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}