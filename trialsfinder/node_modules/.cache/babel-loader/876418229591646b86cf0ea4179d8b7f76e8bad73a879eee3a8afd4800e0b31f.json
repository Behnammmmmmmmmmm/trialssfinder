{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import{trialsAPI}from'../api/trials';import{analyticsAPI}from'../api/analytics';import{useAuth}from'../hooks/useStore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const TrialDetailsPage=()=>{const{id}=useParams();const{user}=useAuth();const[trial,setTrial]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{if(id){loadTrial(parseInt(id));}},[id]);const loadTrial=async trialId=>{try{const response=await trialsAPI.get(trialId);setTrial(response.data);}catch(error){console.error('Failed to load trial:',error);}finally{setLoading(false);}};const handleToggleFavorite=async()=>{if(!user){alert('Please log in to favorite this trial.');return;}if(!trial){return;}try{await trialsAPI.toggleFavorite(trial.id);setTrial({...trial,is_favorited:!trial.is_favorited});}catch(error){console.error('Failed to toggle favorite:',error);}};const handleVisitTrial=async()=>{if(!trial){return;}await analyticsAPI.trackEvent({event_type:'trial_start',trial:trial.id});alert('Redirecting to trial...');};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container py-8 flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",\"data-size\":\"lg\"})});}if(!trial){return/*#__PURE__*/_jsxs(\"div\",{className:\"container py-8 text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-4\",children:\"Trial Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-6\",children:\"The trial you're looking for doesn't exist.\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn\",\"data-variant\":\"primary\",children:\"Back to Home\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"container py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-primary hover:underline mb-4 inline-block\",children:\"\\u2190 Back to Trials\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-2\",children:trial.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 text-muted\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83C\\uDFE2 \",trial.company_name]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83C\\uDFED \",trial.industry_name]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCCD \",trial.location]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleToggleFavorite,className:\"btn\",\"data-variant\":trial.is_favorited?\"primary\":\"outline\",title:trial.is_favorited?\"Remove from favorites\":\"Add to favorites\",children:trial.is_favorited?'★':'☆'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"prose max-w-none mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-3\",children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted whitespace-pre-wrap\",children:trial.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Trial Period\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[new Date(trial.start_date).toLocaleDateString(),\" - \",new Date(trial.end_date).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[trial.is_featured&&/*#__PURE__*/_jsx(\"span\",{className:\"badge mr-2\",\"data-variant\":\"primary\",children:\"Featured\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge\",\"data-variant\":\"success\",children:\"Active\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleVisitTrial,className:\"btn\",\"data-variant\":\"primary\",\"data-size\":\"lg\",children:\"Start Free Trial \\u2192\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted mt-2\",children:\"You'll be redirected to the company's trial signup page\"})]})]})})]})});};export default TrialDetailsPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}