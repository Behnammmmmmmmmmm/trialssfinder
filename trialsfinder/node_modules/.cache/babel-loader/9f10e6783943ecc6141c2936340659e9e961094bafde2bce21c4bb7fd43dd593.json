{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\behna\\\\Desktop\\\\trialssfinder\\\\trialsfinder\\\\src\\\\context\\\\AppContext.tsx\";\nimport React, { createContext, useContext, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  user: null,\n  trials: [],\n  notifications: [],\n  loading: {},\n  errors: {}\n};\nfunction appReducer(state, action) {\n  switch (action.type) {\n    case 'SET_USER':\n      return {\n        ...state,\n        user: action.payload\n      };\n    case 'SET_TRIALS':\n      return {\n        ...state,\n        trials: action.payload\n      };\n    case 'ADD_TRIAL':\n      return {\n        ...state,\n        trials: [...state.trials, action.payload]\n      };\n    case 'UPDATE_TRIAL':\n      return {\n        ...state,\n        trials: state.trials.map(trial => trial.id === action.payload.id ? {\n          ...trial,\n          ...action.payload.trial\n        } : trial)\n      };\n    case 'SET_NOTIFICATIONS':\n      return {\n        ...state,\n        notifications: action.payload\n      };\n    case 'MARK_NOTIFICATION_READ':\n      return {\n        ...state,\n        notifications: state.notifications.map(notif => notif.id === action.payload ? {\n          ...notif,\n          is_read: true\n        } : notif)\n      };\n    case 'SET_LOADING':\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [action.payload.key]: action.payload.value\n        }\n      };\n    case 'SET_ERROR':\n      return {\n        ...state,\n        errors: action.payload.error ? {\n          ...state.errors,\n          [action.payload.key]: action.payload.error\n        } : Object.fromEntries(Object.entries(state.errors).filter(_ref => {\n          let [key] = _ref;\n          return key !== action.payload.key;\n        }))\n      };\n    case 'CLEAR_ERRORS':\n      return {\n        ...state,\n        errors: {}\n      };\n    default:\n      return state;\n  }\n}\nconst AppContext = /*#__PURE__*/createContext(null);\nexport const AppProvider = _ref2 => {\n  let {\n    children\n  } = _ref2;\n  const [state, dispatch] = useReducer(appReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\nexport function useAppContext() {\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useAppContext must be used within AppProvider');\n  }\n  return context;\n}\n\n// Selector hooks\nexport function useUser() {\n  const {\n    state\n  } = useAppContext();\n  return state.user;\n}\nexport function useTrials() {\n  const {\n    state,\n    dispatch\n  } = useAppContext();\n  return {\n    trials: state.trials,\n    setTrials: trials => dispatch({\n      type: 'SET_TRIALS',\n      payload: trials\n    }),\n    addTrial: trial => dispatch({\n      type: 'ADD_TRIAL',\n      payload: trial\n    }),\n    updateTrial: (id, trial) => dispatch({\n      type: 'UPDATE_TRIAL',\n      payload: {\n        id,\n        trial\n      }\n    })\n  };\n}\nexport function useLoading(key) {\n  const {\n    state,\n    dispatch\n  } = useAppContext();\n  return {\n    isLoading: state.loading[key] || false,\n    setLoading: value => dispatch({\n      type: 'SET_LOADING',\n      payload: {\n        key,\n        value\n      }\n    })\n  };\n}\nexport function useError(key) {\n  const {\n    state,\n    dispatch\n  } = useAppContext();\n  return {\n    error: state.errors[key] || null,\n    setError: error => dispatch({\n      type: 'SET_ERROR',\n      payload: {\n        key,\n        error\n      }\n    })\n  };\n}\nexport default AppProvider;","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsxDEV","_jsxDEV","initialState","user","trials","notifications","loading","errors","appReducer","state","action","type","payload","map","trial","id","notif","is_read","key","value","error","Object","fromEntries","entries","filter","_ref","AppContext","AppProvider","_ref2","children","dispatch","Provider","fileName","_jsxFileName","lineNumber","columnNumber","useAppContext","context","Error","useUser","useTrials","setTrials","addTrial","updateTrial","useLoading","isLoading","setLoading","useError","setError"],"sources":["C:/Users/behna/Desktop/trialssfinder/trialsfinder/src/context/AppContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useReducer, ReactNode } from 'react';\r\nimport { User, Trial, Notification } from '../types';\r\n\r\ninterface AppState {\r\n  user: User | null;\r\n  trials: Trial[];\r\n  notifications: Notification[];\r\n  loading: Record<string, boolean>;\r\n  errors: Record<string, string>;\r\n}\r\n\r\ntype AppAction =\r\n  | { type: 'SET_USER'; payload: User | null }\r\n  | { type: 'SET_TRIALS'; payload: Trial[] }\r\n  | { type: 'ADD_TRIAL'; payload: Trial }\r\n  | { type: 'UPDATE_TRIAL'; payload: { id: number; trial: Partial<Trial> } }\r\n  | { type: 'SET_NOTIFICATIONS'; payload: Notification[] }\r\n  | { type: 'MARK_NOTIFICATION_READ'; payload: number }\r\n  | { type: 'SET_LOADING'; payload: { key: string; value: boolean } }\r\n  | { type: 'SET_ERROR'; payload: { key: string; error: string | null } }\r\n  | { type: 'CLEAR_ERRORS' };\r\n\r\nconst initialState: AppState = {\r\n  user: null,\r\n  trials: [],\r\n  notifications: [],\r\n  loading: {},\r\n  errors: {}\r\n};\r\n\r\nfunction appReducer(state: AppState, action: AppAction): AppState {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, user: action.payload };\r\n    \r\n    case 'SET_TRIALS':\r\n      return { ...state, trials: action.payload };\r\n    \r\n    case 'ADD_TRIAL':\r\n      return { ...state, trials: [...state.trials, action.payload] };\r\n    \r\n    case 'UPDATE_TRIAL':\r\n      return {\r\n        ...state,\r\n        trials: state.trials.map(trial =>\r\n          trial.id === action.payload.id\r\n            ? { ...trial, ...action.payload.trial }\r\n            : trial\r\n        )\r\n      };\r\n    \r\n    case 'SET_NOTIFICATIONS':\r\n      return { ...state, notifications: action.payload };\r\n    \r\n    case 'MARK_NOTIFICATION_READ':\r\n      return {\r\n        ...state,\r\n        notifications: state.notifications.map(notif =>\r\n          notif.id === action.payload\r\n            ? { ...notif, is_read: true }\r\n            : notif\r\n        )\r\n      };\r\n    \r\n    case 'SET_LOADING':\r\n      return {\r\n        ...state,\r\n        loading: {\r\n          ...state.loading,\r\n          [action.payload.key]: action.payload.value\r\n        }\r\n      };\r\n    \r\n    case 'SET_ERROR':\r\n      return {\r\n        ...state,\r\n        errors: action.payload.error\r\n          ? { ...state.errors, [action.payload.key]: action.payload.error }\r\n          : Object.fromEntries(\r\n              Object.entries(state.errors).filter(([key]) => key !== action.payload.key)\r\n            )\r\n      };\r\n    \r\n    case 'CLEAR_ERRORS':\r\n      return { ...state, errors: {} };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst AppContext = createContext<{\r\n  state: AppState;\r\n  dispatch: React.Dispatch<AppAction>;\r\n} | null>(null);\r\n\r\nexport const AppProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [state, dispatch] = useReducer(appReducer, initialState);\r\n\r\n  return (\r\n    <AppContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nexport function useAppContext() {\r\n  const context = useContext(AppContext);\r\n  if (!context) {\r\n    throw new Error('useAppContext must be used within AppProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n// Selector hooks\r\nexport function useUser() {\r\n  const { state } = useAppContext();\r\n  return state.user;\r\n}\r\n\r\nexport function useTrials() {\r\n  const { state, dispatch } = useAppContext();\r\n  return {\r\n    trials: state.trials,\r\n    setTrials: (trials: Trial[]) => dispatch({ type: 'SET_TRIALS', payload: trials }),\r\n    addTrial: (trial: Trial) => dispatch({ type: 'ADD_TRIAL', payload: trial }),\r\n    updateTrial: (id: number, trial: Partial<Trial>) => \r\n      dispatch({ type: 'UPDATE_TRIAL', payload: { id, trial } })\r\n  };\r\n}\r\n\r\nexport function useLoading(key: string) {\r\n  const { state, dispatch } = useAppContext();\r\n  return {\r\n    isLoading: state.loading[key] || false,\r\n    setLoading: (value: boolean) => \r\n      dispatch({ type: 'SET_LOADING', payload: { key, value } })\r\n  };\r\n}\r\n\r\nexport function useError(key: string) {\r\n  const { state, dispatch } = useAppContext();\r\n  return {\r\n    error: state.errors[key] || null,\r\n    setError: (error: string | null) => \r\n      dispatch({ type: 'SET_ERROR', payload: { key, error } })\r\n  };\r\n}\r\n\r\nexport default AppProvider;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}