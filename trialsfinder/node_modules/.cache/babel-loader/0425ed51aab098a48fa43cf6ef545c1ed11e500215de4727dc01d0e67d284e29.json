{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useAuth}from'../hooks/useStore';import{trialsAPI}from'../api/trials';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const CompanyDashboardPage=()=>{const{user}=useAuth();const[trials,setTrials]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{loadTrials();},[]);const loadTrials=async()=>{try{const response=await trialsAPI.companyTrials();const trialsData=response.data.results||response.data;setTrials(Array.isArray(trialsData)?trialsData:[]);}catch(error){console.error('Failed to load trials:',error);setTrials([]);}finally{setLoading(false);}};const getStatusBadge=status=>{const variants={'draft':'secondary','under_review':'warning','approved':'success','rejected':'danger'};return variants[status]||'secondary';};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container py-8 flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",\"data-size\":\"lg\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Company Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mt-2\",children:[\"Welcome back, \",user?.username,\"!\"]})]}),/*#__PURE__*/_jsxs(Link,{to:\"/create-trial\",className:\"btn\",\"data-variant\":\"primary\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"+\"}),\" Create New Trial\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(Link,{to:\"/company-profile\",className:\"card hover:shadow-lg transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-3\",children:\"\\uD83C\\uDFE2\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Company Profile\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted\",children:\"Manage your company info\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/create-trial\",className:\"card hover:shadow-lg transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-3\",children:\"\\u2795\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Create Trial\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted\",children:\"List a new free trial\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/subscription\",className:\"card hover:shadow-lg transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-3\",children:\"\\uD83D\\uDCB3\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Subscription\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted\",children:\"Manage billing & plans\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/analytics\",className:\"card hover:shadow-lg transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-3\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted\",children:\"View performance data\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Your Trials\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:trials.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-muted mb-4\",children:\"No trials created yet\"}),/*#__PURE__*/_jsx(Link,{to:\"/create-trial\",className:\"btn\",\"data-variant\":\"primary\",children:\"Create Your First Trial\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-3\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-3\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-3\",children:\"Created\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-3\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:trials.map(trial=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:trial.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted\",children:trial.industry_name})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"badge\",\"data-variant\":getStatusBadge(trial.status),children:trial.status.replace('_',' ')})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:new Date(trial.created_at).toLocaleDateString()})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:/*#__PURE__*/_jsx(Link,{to:`/analytics?trial=${trial.id}`,className:\"btn\",\"data-variant\":\"outline\",\"data-size\":\"sm\",children:\"View Analytics\"})})]},trial.id))})]})})})]})]});};export default CompanyDashboardPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}