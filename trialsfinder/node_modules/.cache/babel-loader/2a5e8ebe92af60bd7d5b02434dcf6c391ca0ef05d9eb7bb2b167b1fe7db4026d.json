{"ast":null,"code":"import React,{Component}from'react';import{handleError}from'../utils/errors';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export class ErrorBoundary extends Component{constructor(props){super(props);this.state={hasError:false,error:null};}static getDerivedStateFromError(error){return{hasError:true,error};}componentDidCatch(error,errorInfo){console.error('Error caught by ErrorBoundary:',error,errorInfo);handleError(error,'React Error Boundary');}resetError=()=>{this.setState({hasError:false,error:null});};render(){if(this.state.hasError&&this.state.error){if(this.props.fallback){return this.props.fallback(this.state.error,this.resetError);}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card max-w-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Something went wrong\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-6\",children:\"We're sorry for the inconvenience. Please try refreshing the page.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.resetError,className:\"btn\",\"data-variant\":\"primary\",children:\"Try again\"}),process.env.NODE_ENV==='development'&&/*#__PURE__*/_jsxs(\"details\",{className:\"mt-4 text-left\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer text-sm text-muted\",children:\"Error details\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"mt-2 text-xs overflow-auto p-2 bg-gray-100 rounded\",children:this.state.error.stack})]})]})})});}return this.props.children;}}export const withErrorBoundary=(Component,fallback)=>{const WrappedComponent=props=>/*#__PURE__*/_jsx(ErrorBoundary,{fallback:fallback,children:/*#__PURE__*/_jsx(Component,{...props})});WrappedComponent.displayName=`withErrorBoundary(${Component.displayName||Component.name||'Component'})`;return WrappedComponent;};export default ErrorBoundary;","map":{"version":3,"names":["React","Component","handleError","jsx","_jsx","jsxs","_jsxs","ErrorBoundary","constructor","props","state","hasError","error","getDerivedStateFromError","componentDidCatch","errorInfo","console","resetError","setState","render","fallback","className","children","onClick","process","env","NODE_ENV","stack","withErrorBoundary","WrappedComponent","displayName","name"],"sources":["C:/Users/behna/Desktop/trialssfinder/trialsfinder/src/components/ErrorBoundary.tsx"],"sourcesContent":["import React, { Component, ErrorInfo, ReactNode } from 'react';\r\nimport { handleError } from '../utils/errors';\r\n\r\ninterface Props {\r\n  children?: ReactNode;\r\n  fallback?: (error: Error, reset: () => void) => ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error: Error | null;\r\n}\r\n\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { hasError: false, error: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): Partial<State> {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    console.error('Error caught by ErrorBoundary:', error, errorInfo);\r\n    handleError(error, 'React Error Boundary');\r\n  }\r\n\r\n  resetError = () => {\r\n    this.setState({ hasError: false, error: null });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError && this.state.error) {\r\n      if (this.props.fallback) {\r\n        return this.props.fallback(this.state.error, this.resetError);\r\n      }\r\n\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <div className=\"card max-w-md\">\r\n            <div className=\"card-body text-center\">\r\n              <div className=\"text-6xl mb-4\">⚠️</div>\r\n              <h2 className=\"text-2xl font-bold mb-4\">Something went wrong</h2>\r\n              <p className=\"text-muted mb-6\">\r\n                We're sorry for the inconvenience. Please try refreshing the page.\r\n              </p>\r\n              <button onClick={this.resetError} className=\"btn\" data-variant=\"primary\">\r\n                Try again\r\n              </button>\r\n              {process.env.NODE_ENV === 'development' && (\r\n                <details className=\"mt-4 text-left\">\r\n                  <summary className=\"cursor-pointer text-sm text-muted\">Error details</summary>\r\n                  <pre className=\"mt-2 text-xs overflow-auto p-2 bg-gray-100 rounded\">\r\n                    {this.state.error.stack}\r\n                  </pre>\r\n                </details>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport const withErrorBoundary = <P extends object>(\r\n  Component: React.ComponentType<P>,\r\n  fallback?: (error: Error, reset: () => void) => ReactNode\r\n): React.ComponentType<P> => {\r\n  const WrappedComponent = (props: P) => (\r\n    <ErrorBoundary fallback={fallback}>\r\n      <Component {...props} />\r\n    </ErrorBoundary>\r\n  );\r\n\r\n  WrappedComponent.displayName = `withErrorBoundary(${Component.displayName || Component.name || 'Component'})`;\r\n  return WrappedComponent;\r\n};\r\n\r\nexport default ErrorBoundary;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}