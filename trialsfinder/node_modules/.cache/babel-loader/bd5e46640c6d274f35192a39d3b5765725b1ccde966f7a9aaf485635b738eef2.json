{"ast":null,"code":"import React from'react';import{SUPPORTED_LANGUAGES}from'../i18n/config';import{useTranslation}from'../i18n';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const LanguageSelector=()=>{const{i18n}=useTranslation();const handleChange=async e=>{const lang=e.target.value;await i18n.changeLanguage(lang);// Update HTML dir attribute\ndocument.documentElement.dir=SUPPORTED_LANGUAGES[lang].dir;// Update lang attribute\ndocument.documentElement.lang=lang;// Update backend language preference\nconst accessToken=localStorage.getItem('access_token');if(accessToken){void fetch('/api/auth/language/',{method:'POST',headers:{'Content-Type':'application/json','Authorization':`Bearer ${accessToken}`},body:JSON.stringify({language:lang})});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"language-selector\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"language-select\",className:\"sr-only\",children:\"Choose language\"}),/*#__PURE__*/_jsx(\"select\",{id:\"language-select\",value:i18n.language,onChange:handleChange,className:\"form-select\",\"aria-label\":\"Select language\",children:Object.entries(SUPPORTED_LANGUAGES).map(_ref=>{let[code,{name}]=_ref;return/*#__PURE__*/_jsx(\"option\",{value:code,children:name},code);})})]});};","map":{"version":3,"names":["React","SUPPORTED_LANGUAGES","useTranslation","jsx","_jsx","jsxs","_jsxs","LanguageSelector","i18n","handleChange","e","lang","target","value","changeLanguage","document","documentElement","dir","accessToken","localStorage","getItem","fetch","method","headers","body","JSON","stringify","language","className","children","htmlFor","id","onChange","Object","entries","map","_ref","code","name"],"sources":["C:/Users/behna/Desktop/trialssfinder/trialsfinder/src/components/LanguageSelector.tsx"],"sourcesContent":["import React from 'react';\r\n\r\nimport { SUPPORTED_LANGUAGES } from '../i18n/config';\r\nimport { useTranslation } from '../i18n';\r\n\r\nexport const LanguageSelector: React.FC = () => {\r\n  const { i18n } = useTranslation();\r\n  \r\n  const handleChange = async (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const lang = e.target.value;\r\n    await i18n.changeLanguage(lang);\r\n    \r\n    // Update HTML dir attribute\r\n    document.documentElement.dir = SUPPORTED_LANGUAGES[lang as keyof typeof SUPPORTED_LANGUAGES].dir;\r\n    \r\n    // Update lang attribute\r\n    document.documentElement.lang = lang;\r\n    \r\n    // Update backend language preference\r\n    const accessToken = localStorage.getItem('access_token');\r\n    if (accessToken) {\r\n      void fetch('/api/auth/language/', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${accessToken}`,\r\n        },\r\n        body: JSON.stringify({ language: lang }),\r\n      });\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"language-selector\">\r\n      <label htmlFor=\"language-select\" className=\"sr-only\">\r\n        Choose language\r\n      </label>\r\n      <select \r\n        id=\"language-select\"\r\n        value={i18n.language} \r\n        onChange={handleChange}\r\n        className=\"form-select\"\r\n        aria-label=\"Select language\"\r\n      >\r\n        {(Object.entries(SUPPORTED_LANGUAGES) as [string, { name: string; dir: string }][]).map(([code, { name }]) => (\r\n          <option key={code} value={code}>{name}</option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,mBAAmB,KAAQ,gBAAgB,CACpD,OAASC,cAAc,KAAQ,SAAS,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,MAAO,MAAM,CAAAC,gBAA0B,CAAGA,CAAA,GAAM,CAC9C,KAAM,CAAEC,IAAK,CAAC,CAAGN,cAAc,CAAC,CAAC,CAEjC,KAAM,CAAAO,YAAY,CAAG,KAAO,CAAAC,CAAuC,EAAK,CACtE,KAAM,CAAAC,IAAI,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAC3B,KAAM,CAAAL,IAAI,CAACM,cAAc,CAACH,IAAI,CAAC,CAE/B;AACAI,QAAQ,CAACC,eAAe,CAACC,GAAG,CAAGhB,mBAAmB,CAACU,IAAI,CAAqC,CAACM,GAAG,CAEhG;AACAF,QAAQ,CAACC,eAAe,CAACL,IAAI,CAAGA,IAAI,CAEpC;AACA,KAAM,CAAAO,WAAW,CAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CACxD,GAAIF,WAAW,CAAE,CACf,IAAK,CAAAG,KAAK,CAAC,qBAAqB,CAAE,CAChCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAE,UAAUL,WAAW,EACxC,CAAC,CACDM,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,QAAQ,CAAEhB,IAAK,CAAC,CACzC,CAAC,CAAC,CACJ,CACF,CAAC,CAED,mBACEL,KAAA,QAAKsB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCzB,IAAA,UAAO0B,OAAO,CAAC,iBAAiB,CAACF,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,iBAErD,CAAO,CAAC,cACRzB,IAAA,WACE2B,EAAE,CAAC,iBAAiB,CACpBlB,KAAK,CAAEL,IAAI,CAACmB,QAAS,CACrBK,QAAQ,CAAEvB,YAAa,CACvBmB,SAAS,CAAC,aAAa,CACvB,aAAW,iBAAiB,CAAAC,QAAA,CAE1BI,MAAM,CAACC,OAAO,CAACjC,mBAAmB,CAAC,CAA+CkC,GAAG,CAACC,IAAA,MAAC,CAACC,IAAI,CAAE,CAAEC,IAAK,CAAC,CAAC,CAAAF,IAAA,oBACvGhC,IAAA,WAAmBS,KAAK,CAAEwB,IAAK,CAAAR,QAAA,CAAES,IAAI,EAAxBD,IAAiC,CAAC,EAChD,CAAC,CACI,CAAC,EACN,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}