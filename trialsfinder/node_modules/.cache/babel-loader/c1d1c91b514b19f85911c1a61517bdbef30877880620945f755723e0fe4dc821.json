{"ast":null,"code":"import React,{useState}from'react';import{useTranslation}from'../i18n';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const PrivacyDashboard=()=>{const{t}=useTranslation();const[consents,setConsents]=useState({necessary:true,functional:true,analytics:false,marketing:false});const handleExportData=async()=>{try{const response=await fetch('/api/compliance/export-data/',{method:'POST',headers:{'Authorization':`Bearer ${localStorage.getItem('access_token')}`,'Content-Type':'application/json'}});if(response.ok){alert(t('privacy.exportRequested'));}}catch(error){console.error('Failed to request data export:',error);}};const handleDeleteAccount=async()=>{if(!window.confirm(t('privacy.deleteConfirm'))){return;}try{const response=await fetch('/api/compliance/delete-account/',{method:'POST',headers:{'Authorization':`Bearer ${localStorage.getItem('access_token')}`,'Content-Type':'application/json'}});if(response.ok){alert(t('privacy.deletionRequested'));}}catch(error){console.error('Failed to request account deletion:',error);}};const updateConsents=async()=>{try{const response=await fetch('/api/compliance/consent/',{method:'POST',headers:{'Authorization':`Bearer ${localStorage.getItem('access_token')}`,'Content-Type':'application/json'},body:JSON.stringify({consents})});if(response.ok){alert('Consent preferences updated');}}catch(error){console.error('Failed to update consents:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container py-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-8\",children:t('privacy.title')}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:t('privacy.yourConsents')})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:consents.necessary,disabled:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form-check-label\",children:t('cookies.necessary')})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:consents.functional,onChange:e=>setConsents({...consents,functional:e.target.checked})}),/*#__PURE__*/_jsx(\"span\",{className:\"form-check-label\",children:t('cookies.functional')})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:consents.analytics,onChange:e=>setConsents({...consents,analytics:e.target.checked})}),/*#__PURE__*/_jsx(\"span\",{className:\"form-check-label\",children:t('cookies.analytics')})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:consents.marketing,onChange:e=>setConsents({...consents,marketing:e.target.checked})}),/*#__PURE__*/_jsx(\"span\",{className:\"form-check-label\",children:t('cookies.marketing')})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:updateConsents,className:\"btn mt-6\",\"data-variant\":\"primary\",children:\"Update Preferences\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:t('privacy.yourRights')})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Data Export\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted mb-3\",children:\"Download all your personal data in a machine-readable format.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportData,className:\"btn\",\"data-variant\":\"outline\",children:t('privacy.exportData')})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Account Deletion\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted mb-3\",children:\"Permanently delete your account and all associated data.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteAccount,className:\"btn\",\"data-variant\":\"danger\",children:t('privacy.deleteAccount')})]})]})})]})]})]});};export default PrivacyDashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}